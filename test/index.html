<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>nosaukums</title>
  
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.4.0/dist/aframe-extras.min.js"></script>
  <script src="scripts/navmesh.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: black;
    }
    a-scene {
      width: 100%;
      height: 100%;
      transform: scale(1, 1); 
      transform-origin: center;
    }
  </style>
</head>
<body>
  <a-scene fog="type: exponential; color: red; density: 0.0025;" shadow="type: pcfsoft">
    <!-- Add a sky sphere -->
    <a-sky color="blue"></a-sky>

    <!-- Horizontal plane with nav-mesh -->
    <a-entity id="navmesh" geometry="primitive: plane; width: 10; height: 10" rotation="-90 0 0" material="color: #7BC8A4" nav-mesh></a-entity>

    <!-- Camera with look-controls, wasd-controls, and simple-navmesh-constraint components -->
    <a-entity id="rig" position="0 1.6 0" movement-controls="constrainToNavMesh: true">
      <a-entity id="camera" camera look-controls simple-navmesh-constraint="navmesh: #navmesh; fall: 0; height: 1.6;"></a-entity>
    </a-entity>
  </a-scene>
  <script>
    AFRAME.registerComponent('log-movements', {
      tick: function () {
        console.log('Camera position:', this.el.getAttribute('position'));
      }
    });

    // Attach the log-movements component to the camera entity
    document.querySelector('#camera').setAttribute('log-movements', '');
  </script>
</body>
</html>
